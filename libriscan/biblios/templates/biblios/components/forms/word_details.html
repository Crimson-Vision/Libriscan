<!-- Word Details Component -->
<div id="clickedWordsContainer" class="mt-8 hidden">
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h3 class="card-title">Word Details</h3>
      <div class="stats shadow">
        <div class="stat">
          <div class="stat-title">Word</div>
          <div id="clickedWord" class="stat-value text-2xl"></div>
        </div>
        <div class="stat">
          <div class="stat-title">Confidence Score</div>
          <div id="confidenceScore" class="stat-value text-2xl"></div>
          <div class="stat-desc">
            <progress id="confidenceBar" class="progress w-56" value="0" max="100"></progress>
          </div>
        </div>
      </div>
      <div id="suggestionsContainer" class="hidden mt-4">
        <div class="divider">Suggestions</div>
        <div id="suggestionsList" class="space-y-3">
          <!-- Suggestions will be dynamically inserted here -->
        </div>
      </div>
    </div>
  </div>
</div>

<script>
function getProgressClass(confidence) {
  if (confidence < 50) return 'progress progress-error';
  if (confidence < 80) return 'progress progress-warning';
  if (confidence >= 90) return 'progress progress-success';
  return 'progress';
}

function updateWordDetails(wordInfo) {
  const container = document.getElementById('clickedWordsContainer');
  const wordElement = document.getElementById('clickedWord');
  const scoreElement = document.getElementById('confidenceScore');
  const progressBar = document.getElementById('confidenceBar');
  const suggestionsContainer = document.getElementById('suggestionsContainer');
  const suggestionsList = document.getElementById('suggestionsList');
  
  container.classList.remove('hidden');
  wordElement.textContent = wordInfo.word;
  scoreElement.textContent = `${wordInfo.confidence}%`;
  progressBar.value = wordInfo.confidence;
  progressBar.className = getProgressClass(wordInfo.confidence);
  
  // Handle suggestions
  if (wordInfo.suggestions) {
    suggestionsContainer.classList.remove('hidden');
    suggestionsList.innerHTML = '';
    wordInfo.suggestions.forEach(suggestion => {
      const div = document.createElement('div');
      div.className = 'flex items-center justify-between p-3 bg-base-200 rounded-lg';
      div.innerHTML = `
        <span class="font-medium">${suggestion.word}</span>
        <div class="flex items-center gap-3">
          <span class="text-sm">Frequency count: ${suggestion.confidence}</span>
          <input type="range" min="0" max="100" value="${suggestion.confidence}" class="range w-24" disabled />
        </div>
      `;
      suggestionsList.appendChild(div);
    });
  } else {
    suggestionsContainer.classList.add('hidden');
  }
}

// Listen for word selection events
document.addEventListener('wordSelected', event => {
  updateWordDetails(event.detail);
});
</script>
