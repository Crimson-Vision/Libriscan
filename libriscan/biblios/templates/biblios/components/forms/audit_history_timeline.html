{% load static %}
<!-- Audit History Timeline: Displays word edit history with timestamps and change details -->

<div id="auditHistoryContent" class="h-[50vh] overflow-y-auto">
  
  <div id="auditHistoryEmpty" class="flex flex-col items-center justify-center h-full text-center p-8">
    <div class="relative mb-6">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-20 text-base-300" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
      </svg>
      <div class="absolute inset-0 blur-2xl bg-base-300 opacity-20 rounded-full"></div>
    </div>
    <h3 class="text-xl font-bold mb-2 text-base-content">No History Available</h3>
    <p class="text-base-content/60 max-w-sm">Select a word from the document to view its complete audit history and changes over time</p>
  </div>

  <div id="auditHistoryTimeline" class="hidden">
    <header class="mb-4 p-3 bg-gradient-to-r from-primary/10 to-transparent rounded-lg border border-primary/20">
      <div class="flex items-center justify-between gap-3 flex-wrap">
        <div class="flex items-center gap-3 min-w-0 flex-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5 text-primary flex-shrink-0" aria-hidden="true">
            <path fill-rule="evenodd" d="M4.25 2A2.25 2.25 0 0 0 2 4.25v11.5A2.25 2.75 0 0 0 4.25 18h11.5A2.25 2.25 0 0 0 18 15.75V4.25A2.25 2.25 0 0 0 15.75 2H4.25Zm4.03 6.28a.75.75 0 0 0-1.06-1.06L4.97 9.47a.75.75 0 0 0 0 1.06l2.25 2.25a.75.75 0 0 0 1.06-1.06L6.56 10l1.72-1.72Zm4.5-1.06a.75.75 0 1 0-1.06 1.06L13.44 10l-1.72 1.72a.75.75 0 1 0 1.06 1.06l2.25-2.25a.75.75 0 0 0 0-1.06l-2.25-2.25Z" clip-rule="evenodd" />
          </svg>
          <div class="flex items-baseline gap-2 min-w-0 flex-wrap">
            <h3 id="historyWordText" class="text-xl font-bold text-base-content truncate"></h3>
            <div class="flex items-center gap-1.5 text-xs">
              <span class="text-base-content/50">ID:</span>
              <code id="historyWordId" class="font-mono text-base-content/70"></code>
            </div>
          </div>
        </div>
        
        <div class="flex items-center gap-2 flex-shrink-0">
          <div id="historyCount" class="badge badge-primary badge-md font-semibold" aria-label="Number of changes"></div>
          <div class="tooltip tooltip-left" data-tip="Your local timezone">
            <div class="flex items-center gap-1.5 text-xs text-base-content/60 bg-base-200/50 px-2 py-1 rounded">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-3.5" aria-hidden="true">
                <path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-13a.75.75 0 0 0-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 0 0 0-1.5h-3.25V5Z" clip-rule="evenodd" />
              </svg>
              <span id="userTimezone" class="font-mono text-[10px]"></span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <ul class="timeline timeline-snap-icon timeline-vertical w-full" role="list" aria-label="Audit history timeline"></ul>
  </div>
</div>
