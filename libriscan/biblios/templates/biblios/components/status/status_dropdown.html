{% load icon_tags %}
<!-- Status Dropdown Component -->
<div class="dropdown dropdown-end" id="statusDropdown">
    <div tabindex="0" role="button" class="inline-flex items-center gap-0 rounded-lg overflow-hidden transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary/50 cursor-pointer" id="statusButton">
        <span id="statusBadge" class="badge badge-sm gap-1.5 px-3 py-1.5 font-semibold rounded-r-none border-r-0">
            <span id="statusIcon"></span>
            <span id="statusText">{{ document.get_status_display }}</span>
        </span>
        <span id="status-dropdown-arrow" class="flex items-center justify-center px-2 py-1.5 bg-base-200/60 hover:bg-base-200/80 transition-colors rounded-r-lg">
            {% icon 'chevron-down' css_class='size-3 text-base-content/60' stroke_width='2' %}
        </span>
    </div>
    <ul id="status-dropdown-menu" tabindex="0" class="dropdown-content menu bg-base-100 rounded-box z-[1] w-52 p-2 shadow-lg border border-base-300 mt-2">
        <li>
            <a id="status-option-new"
               href="#" 
               class="status-option flex items-center gap-2 px-3 py-2 rounded-lg transition-colors" 
               data-status="N"
               hx-post="{% url 'document_status_update' keys.owner keys.collection_slug document.identifier %}"
               hx-vals='{"status": "N"}'
               hx-swap="none"
               hx-trigger="click">
                <span class="badge badge-sm badge-ghost gap-1.5 px-2">
                    {% icon 'edit' css_class='size-3' %}
                    New
                </span>
            </a>
        </li>
        <li>
            <a id="status-option-in-progress"
               href="#" 
               class="status-option flex items-center gap-2 px-3 py-2 rounded-lg transition-colors" 
               data-status="I"
               hx-post="{% url 'document_status_update' keys.owner keys.collection_slug document.identifier %}"
               hx-vals='{"status": "I"}'
               hx-swap="none"
               hx-trigger="click">
                <span class="badge badge-sm badge-info gap-1.5 px-2">
                    {% icon 'clock' css_class='size-3' %}
                    In Progress
                </span>
            </a>
        </li>
        <li>
            <a id="status-option-ready-for-review"
               href="#" 
               class="status-option flex items-center gap-2 px-3 py-2 rounded-lg transition-colors" 
               data-status="R"
               hx-post="{% url 'document_status_update' keys.owner keys.collection_slug document.identifier %}"
               hx-vals='{"status": "R"}'
               hx-swap="none"
               hx-trigger="click">
                <span class="badge badge-sm badge-warning gap-1.5 px-2">
                    {% icon 'shield-check' css_class='size-3' %}
                    Ready for Review
                </span>
            </a>
        </li>
        <li>
            <a id="status-option-approved"
               href="#" 
               class="status-option flex items-center gap-2 px-3 py-2 rounded-lg transition-colors" 
               data-status="A"
               hx-post="{% url 'document_status_update' keys.owner keys.collection_slug document.identifier %}"
               hx-vals='{"status": "A"}'
               hx-swap="none"
               hx-trigger="click">
                <span class="badge badge-sm badge-success gap-1.5 px-2">
                    {% icon 'check-circle' css_class='size-3' %}
                    Approved
                </span>
            </a>
        </li>
    </ul>
</div>


